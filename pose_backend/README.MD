# ğŸ”§ AI Deadlift Coach â€” Backend (FastAPI + ML)

å¾Œç«¯ API æœå‹™ï¼Œæä¾› ML å§¿å‹¢åˆ†é¡èˆ‡å³æ™‚è„Šæ¤åˆ†æã€‚

> ğŸ“– å®Œæ•´åŠŸèƒ½èªªæ˜è«‹åƒè€ƒ [å°ˆæ¡ˆæ ¹ç›®éŒ„ README](../README.md)

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ uvï¼ˆæ¨è–¦ï¼‰

```powershell
cd pose_backend
uv sync
uv run uvicorn app:app --reload --host 0.0.0.0 --port 8000
```

### æ–¹æ³•äºŒï¼šå‚³çµ± venv

```powershell
cd pose_backend
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
uvicorn app:app --reload --host 0.0.0.0 --port 8000
```

ğŸŒ API ä½å€ï¼š`http://localhost:8000`

---

## ğŸ“¡ API ç«¯é»

| ç«¯é» | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/ping` | GET | å¥åº·æª¢æŸ¥ |
| `/predict` | POST | ML å§¿å‹¢åˆ†é¡ |

### `/predict` è«‹æ±‚æ ¼å¼

```json
{
  "session_id": "user-123",
  "landmarks": [
    { "x": 0.5, "y": 0.3, "z": -0.1, "visibility": 0.9 },
    ... // å…± 33 å€‹ MediaPipe landmarks
  ]
}
```

### å›æ‡‰æ ¼å¼

```json
{
  "A": ["èƒŒéƒ¨å½æ›²"],
  "spine": {
    "status": "warning",
    "curvature": 15.2,
    "message": "è¼•å¾®å½æ›²"
  },
  "ml_ready": true,
  "ml_frame_count": 30
}
```

---

## ğŸ“ æª”æ¡ˆèªªæ˜

| æª”æ¡ˆ | èªªæ˜ |
|------|------|
| `app.py` | FastAPI ä¸»ç¨‹å¼ï¼ˆå« ML æ•´åˆï¼‰ |
| `deadlift_rf_model.pkl` | è¨“ç·´å¥½çš„ Random Forest æ¨¡å‹ |
| `label_binarizer.pkl` | æ¨™ç±¤ç·¨ç¢¼å™¨ |
| `Dockerfile` | å®¹å™¨å»ºç½®é…ç½® |
| `pyproject.toml` | uv/Python ä¾è³´é…ç½® |

---

## ğŸ³ Docker

```powershell
docker build -t deadlift-backend .
docker run -p 8000:8000 deadlift-backend
```

---

*è©³ç´°æ¶æ§‹èˆ‡æ¼”ç®—æ³•è«‹åƒè€ƒ [å°ˆæ¡ˆ README](../README.md)*